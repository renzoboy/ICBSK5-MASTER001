jQuery.fn.treeListFilter=function(list,timeout){function filterList(ulObject,filterValue){if(!ulObject.is("ul")&&!ulObject.is("ol"))return!1;for(var children=ulObject.children(),result=!1,i=0;i<children.length;i++){var liObject=jQuery(children[i]);if(liObject.is("li")){var display=!1;if(liObject.children().length>0)for(var j=0;j<liObject.children().length;j++){var subDisplay=filterList(jQuery(liObject.children()[j]),filterValue);display=display||subDisplay}if(!display){var text=liObject.text();display=text.toLowerCase().indexOf(filterValue)>=0}liObject.css("display",display?"":"none"),result=result||display}}return result}var keyTimeout,list=jQuery(list),input=this,lastFilter="";return void 0===timeout&&(timeout=200),input.change(function(){var filter=input.val().toLowerCase();return filterList(list,filter),!1}).keydown(function(){clearTimeout(keyTimeout),keyTimeout=setTimeout(function(){input.val()!==lastFilter&&(lastFilter=input.val(),input.change())},timeout)}),this};