ns("icbs.PeriodicOps"),icbs.PeriodicOps.StartOfDay=function(callThis,url,params){var progressCallback=function(data){console.log(data);var $bar=$("#startOfDayModal .bar"),pdLog=data.flag.split("@@#");data.flag=pdLog[0],pdLog=pdLog[1],data.flag&&"end"===data.flag?($("#processStartOfDay1").attr("disabled",!1),$("#processStartOfDay2").attr("disabled",!1),$("#startOfDayModal .modal-body #message").html(data.message),$bar.css("width",data.progress+"%"),clearInterval(icbs.PeriodicOps.StartOfDay.Interval),_idleTimeoutDisable=window.setInterval(CheckIdleTime,1e3)):data.flag&&"error"===data.flag?($("#processStartOfDay1").attr("disabled",!1),$("#processStartOfDay2").attr("disabled",!1),$("#startOfDayModal .modal-body #message").html(data.message),$bar.css("width",data.progress+"%"),clearInterval(icbs.PeriodicOps.StartOfDay.Interval)):(console.log(data),$("#startOfDayModal .modal-body #message").html(data.message),$bar.css("width",data.progress+"%")),console.log("data.periodicLogId: "+pdLog),parseInt(pdLog)>0&&(window.location.href="/icbs/periodicOps/periodicOpsSuccess/"+parseInt(pdLog)),$bar.text(data.progress+"%")},processCallback=function(data){console.log(data),"start"===data.flag&&($("#processStartOfDay1").attr("disabled",!0),$("#processStartOfDay2").attr("disabled",!0),$("#startOfDayModal .modal-body #message").html(data.message),progressBar(0))},sendUpdate=function(callThis,url,params){var ajax=icbs.Dependencies.Ajax;"process"===callThis&&ajax.run({url:url,params:params,callback:processCallback,dataType:"json"}),"progress"===callThis&&ajax.run({url:url,params:params,callback:progressCallback,dataType:"json"})};sendUpdate(callThis,url,params)},icbs.PeriodicOps.EndOfDay=function(callThis,url,params){var progressCallback=function(data){console.log(data);var $bar=$("#endOfDayModal .bar"),pdLog=data.flag.split("@@#");data.flag=pdLog[0],pdLog=pdLog[1],data.flag&&"end"===data.flag?($("#processEndOfDay1").attr("disabled",!1),$("#processEndOfDay2").attr("disabled",!1),$("#endOfDayModal .modal-body #message").html(data.message),$bar.css("width",data.progress+"%"),clearInterval(icbs.PeriodicOps.EndOfDay.Interval),_idleTimeoutDisable=window.setInterval(CheckIdleTime,1e3),document.getElementById("getReportsEndOfDay").click()):data.flag&&"error"===data.flag?($("#processEndOfDay1").attr("disabled",!1),$("#processEndOfDay2").attr("disabled",!1),$("#endOfDayModal .modal-body #message").html(data.message),$bar.css("width",data.progress+"%"),clearInterval(icbs.PeriodicOps.EndOfDay.Interval)):($("#endOfDayModal .modal-body #message").html(data.message),$bar.css("width",data.progress+"%")),console.log("data.periodicLogId: "+pdLog),parseInt(pdLog)>0&&(window.location.href="/icbs/periodicOps/periodicOpsSuccess/"+parseInt(pdLog)),$("#endOfDayModal .modal-body #message").html(data.message),$bar.text(data.progress+"%")},processCallback=function(data){"start"===data.flag&&($("#processEndOfDay1").attr("disabled",!0),$("#processEndOfDay2").attr("disabled",!0),$("#endOfDayModal .modal-body #message").html(data.message),progressBar(1))},sendUpdate=function(callThis,url,params){var ajax=icbs.Dependencies.Ajax;"process"===callThis&&ajax.run({url:url,params:params,callback:processCallback,dataType:"json"}),"progress"===callThis&&ajax.run({url:url,params:params,callback:progressCallback,dataType:"json"})};sendUpdate(callThis,url,params)},icbs.PeriodicOps.EndOfMonth=function(callThis,url,params){var progressCallback=function(data){var $bar=$("#endOfMonthModal .bar");data.flag&&"end"===data.flag?($("#processEndOfMonth1").attr("disabled",!1),$("#processEndOfMonth2").attr("disabled",!1),$("#endOfMonthModal .modal-body #message").html(data.message),$bar.css("width",data.progress+"%"),clearInterval(icbs.PeriodicOps.EndOfMonth.Interval)):$bar.css("width",data.progress+"%"),$("#endOfMonthModal .modal-body #message").html(data.message),$bar.text(data.progress+"%")},processCallback=function(data){"start"===data.flag&&($("#processEndOfMonth1").attr("disabled",!0),$("#processEndOfMonth2").attr("disabled",!0),$("#endOfMonthModal .modal-body #message").html(data.message),progressBar(2))},sendUpdate=function(callThis,url,params){var ajax=icbs.Dependencies.Ajax;"process"===callThis&&ajax.run({url:url,params:params,callback:processCallback,dataType:"json"}),"progress"===callThis&&ajax.run({url:url,params:params,callback:progressCallback,dataType:"json"})};sendUpdate(callThis,url,params)},icbs.PeriodicOps.EndOfYear=function(callThis,url,params){var progressCallback=function(data){var $bar=$("#endOfYearModal .bar");data.flag&&"end"===data.flag?($("#processEndOfYear1").attr("disabled",!1),$("#processEndOfYear2").attr("disabled",!1),$("#endOfYearModal .modal-body #message").html(data.message),$bar.css("width",data.progress+"%"),clearInterval(icbs.PeriodicOps.EndOfYear.Interval)):$bar.css("width",data.progress+"%"),$("#endOfYearModal .modal-body #message").html(data.message),$bar.text(data.progress+"%")},processCallback=function(data){"start"===data.flag&&($("#processEndOfYear1").attr("disabled",!0),$("#processEndOfYear2").attr("disabled",!0),$("#endOfYearModal .modal-body #message").html(data.message),progressBar(3))},sendUpdate=function(callThis,url,params){var ajax=icbs.Dependencies.Ajax;"process"===callThis&&ajax.run({url:url,params:params,callback:processCallback,dataType:"json"}),"progress"===callThis&&ajax.run({url:url,params:params,callback:progressCallback,dataType:"json"})};sendUpdate(callThis,url,params)},icbs.PeriodicOps.EndOfMonth.Interval=0,icbs.PeriodicOps.StartOfDay.Interval=0,icbs.PeriodicOps.EndOfDay.Interval=0,icbs.PeriodicOps.EndOfYear.Interval=0;